<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="../js/jquery-easyui/jquery.min.js"></script>
    <script type="text/javascript" src="../js/jquery-easyui/jquery.easyui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../js/jquery-easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../js/jquery-easyui/themes/icon.css">
    <script type="text/javascript" src="../js/jquery-easyui/locale/easyui-lang-zh_CN.js"></script>
    <title>主页</title>
</head>
<body class="easyui-layout">
    <!--<div data-options="region:'north',title:'North Title',split:true" style="height:100px;">
        <h5>欢迎来到SSS自动办公系统系统</h5>
    </div>-->
    <!--<div data-options="region:'south',title:'South Title',split:true" style="height:100px;"></div>-->
    <div data-options="region:'west',title:'West',split:true" style="width:150px;">
        <div>
            <ul id="menutree"></ul>
        </div>
    </div>
    <div data-options="region:'center',title:'center title'" style="padding:5px;background:#eee;">
        <div id="tt" class="easyui-tabs" fit="true"></div>
    </div>


<script type="text/javascript">
    $(function(){
        $('#menutree').tree({
            url:'../../menuTree',
            animate : true,
            iconCls:'icon-edit',
            lines:true,
            loadFilter: function(data){
                if (data.status == 0){
                    return data.data;
                }
            },
            onClick:function(node){
                /* if($('#tt').tabs('getTab',node.text == null)){
                    $('tt').tabs('add',{
                        title:node.text,
                        selected:true,
                        closable:true,
                        href:"/page/test.html"

                    });
                }else{/* 如果面板存在，则被选中 */
                /* $('#tt').tabs('select',node.text)
            } */

                var leaf = $('#menuTree').tree('isLeaf', node.target);
                if(leaf){
                    //如果是叶子节点   则直接打开对应tab
                    if($('#tt').tabs('exists',node.text)){
                        $('#tt').tabs('select',node.text);//切换
                    }else{
                        var content = '<iframe id="fram'+node.id+'" scrolling="auto" frameborder="0" src='+node.menuUrl+' style="width:100%;height:100%;" ></iframe>';
                        $('#tt').tabs('add',{
                            title:node.text,
                            content:content,
                            closable:true,
                        });//添加
                    }
                }
            }
        });
    });
</script>

</body>
</html>